     1                                  [org 0x0100]
     2                                  
     3 00000000 E95500                      jmp start
     4                                  
     5 00000003 000000000000000000-         arr: dw 0, 0, 0, 0, 0, 0, 0, 0
     6 0000000C 00000000000000     
     7                                  
     8                                      test_func:
     9 00000013 C3                              ret
    10                                  
    11                                      addtoset:
    12 00000014 55                              push bp
    13 00000015 89E5                            mov bp, sp
    14 00000017 53                              push bx
    15 00000018 52                              push dx
    16                                  
    17 00000019 BB0000                          mov bx, 0
    18                                  
    19                                          loop1
    20 0000001C 81BF[0300]0000                      cmp word [arr + bx], 0
    21 00000022 750A                                jnz skip
    22                                  
    23 00000024 8B5604                              mov dx, [bp + 4]
    24 00000027 8997[0300]                          mov [arr + bx], dx
    25 0000002B E90A00                              jmp return
    26                                  
    27                                          skip:
    28 0000002E 81C30200                            add bx, 2
    29                                  
    30 00000032 81FB1000                            cmp bx, 16
    31 00000036 75E4                                jnz loop1
    32                                          
    33                                          return:
    34 00000038 5A                                  pop dx
    35 00000039 5B                                  pop bx
    36 0000003A 5D                                  pop bp
    37 0000003B C20200                              ret 2
    38                                          
    39                                      callset:
    40 0000003E BB0E00                          mov bx, 14
    41                                  
    42                                          loop2:
    43 00000041 81BF[0300]0000                      cmp word [arr + bx], 0
    44 00000047 7404                                jz skipcall
    45                                              
    46 00000049 FFB7[0300]                          push word [arr + bx]
    47                                  
    48                                          skipcall:
    49 0000004D 81EB0200                            sub bx, 2
    50 00000051 81FBFEFF                            cmp bx, -2
    51 00000055 75EA                                jnz loop2
    52                                  
    53                                          _return:
    54 00000057 C3                                  ret
    55                                  
    56                                      start:  
    57 00000058 68[1300]                        push word test_func
    58 0000005B E8B6FF                          call addtoset
    59                                  
    60 0000005E 68[1300]                        push word test_func
    61 00000061 E8B0FF                          call addtoset
    62                                  
    63 00000064 60                              pusha
    64 00000065 E8D6FF                          call callset
    65 00000068 61                              popa
    66                                  
    67                                      end:
    68 00000069 B8004C                          mov ax, 0x4c00
    69 0000006C CD21                            int 21h
