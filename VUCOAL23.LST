     1                                  [org 0x0100]
     2                                  
     3 00000000 E95B00                      jmp start
     4                                  
     5 00000003 000000000000000000-         arr: dw 0, 0, 0, 0, 0, 0, 0, 0
     6 0000000C 00000000000000     
     7                                  
     8                                      test_func:
     9 00000013 C3                              ret
    10                                  
    11                                      addtoset:
    12 00000014 55                              push bp
    13 00000015 89E5                            mov bp, sp
    14 00000017 53                              push bx
    15 00000018 52                              push dx
    16                                  
    17 00000019 BB0000                          mov bx, 0
    18                                  
    19                                          loop1
    20 0000001C 81BF[0300]0000                      cmp word [arr + bx], 0
    21 00000022 750A                                jnz skip
    22                                  
    23 00000024 8B5604                              mov dx, [bp + 4]
    24 00000027 8997[0300]                          mov [arr + bx], dx
    25 0000002B E90A00                              jmp return
    26                                  
    27                                          skip:
    28 0000002E 81C30200                            add bx, 2
    29                                  
    30 00000032 81FB1000                            cmp bx, 16
    31 00000036 75E4                                jnz loop1
    32                                          
    33                                          return:
    34 00000038 5A                                  pop dx
    35 00000039 5B                                  pop bx
    36 0000003A 5D                                  pop bp
    37 0000003B C20200                              ret 2
    38                                          
    39                                      callset:
    40 0000003E 55                              push bp
    41 0000003F 89E5                            mov bp, sp
    42 00000041 53                              push bx
    43                                  
    44 00000042 BB0000                          mov bx, 0
    45                                  
    46                                          loop2:
    47 00000045 81BF[0300]0000                      cmp word [arr + bx], 0
    48 0000004B 7404                                jz skipcall
    49 0000004D FF97[0300]                          call [arr + bx]
    50                                  
    51                                          skipcall:
    52 00000051 81C30200                            add bx, 2
    53 00000055 81FB1000                            cmp bx, 16
    54 00000059 75EA                                jnz loop2
    55                                  
    56                                          _return:
    57 0000005B 5B                                  pop bx 
    58 0000005C 5D                                  pop bp
    59 0000005D C3                                  ret
    60                                  
    61                                      start:  
    62 0000005E 68[1300]                        push word test_func
    63 00000061 E8B0FF                          call addtoset
    64                                  
    65 00000064 68[1300]                        push word test_func
    66 00000067 E8AAFF                          call addtoset
    67                                  
    68 0000006A E8D1FF                          call callset
    69                                  
    70                                      end:
    71 0000006D B8004C                          mov ax, 0x4c00
    72 00000070 CD21                            int 21h
